@model OnlineExamManagement.Models.Question

@{
    ViewBag.Title = "MainExam";
}

<h2>MainExam</h2>



<br />
<br />
<br />

<div class="container-fluid">
    @{ 
        var endTime = DateTime.Now.AddSeconds(60);
        var timeRemaining = TimeSpan.FromTicks(endTime.Ticks - DateTime.Now.Ticks).TotalSeconds;
        
      }

    <div style="float:right;margin-right:100px" >
        Time Remaining: <h1 id="secRemaining" class="text-danger"></h1>
    </div>









    <h4><b>Q: @Model.Ques</b></h4>
    <br />
    <div class="container">
        <form action="/Student/MainExam/@Session["QuestionCourse"]/@ViewData["QuestionIndex"]" method="post">
            @Html.RadioButton("choice", "optionA") &nbsp; &nbsp; &nbsp; @Model.OptionA <br /><br /><br />
            @Html.RadioButton("choice", "optionB") &nbsp; &nbsp; &nbsp; @Model.OptionB <br /><br /><br />
            @Html.RadioButton("choice", "optionC") &nbsp; &nbsp; &nbsp; @Model.OptionC <br /><br /><br />
            @Html.RadioButton("choice", "optionD") &nbsp; &nbsp; &nbsp; @Model.OptionD <br /><br /><br />
            @{
                if (ViewData["QuestionIndex"].ToString() != "10")
                {
                    <input id="q_submit" type="submit" value="Submit" class="btn btn-danger" />
                }
                else if (ViewData["QuestionIndex"].ToString() == "10")
                {

                    <input id="q_submit" type="submit" value="Submit and Finish" class="btn btn-danger" />
                }
            }
        </form>
    </div>
    <hr />

</div>


@section scripts{

    <script type="text/javascript">
        var remSeconds = @timeRemaining;
        function startTick() {
            document.getElementById("secRemaining").innerText = remSeconds;
            var _tick = setInterval(function () {
                if (remSeconds > 0) {
                    remSeconds = remSeconds - 1;
                    document.getElementById("secRemaining").innerText = remSeconds;

                } else {

                    document.getElementById("q_submit").click();
                    clearInterval(_tick);
                }
            }, 1000);
      
        }
        startTick();

        function preventBack() { window.history.forward(); }
        setTimeout("preventBack()", 0);
        window.onunload = function () { null }
    </script>
}



